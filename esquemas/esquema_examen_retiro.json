{
  "metadata": {
    "version": "2.0",
    "capa": "gold",
    "fecha_creacion": "2025-01-06",
    "fecha_actualizacion": "2025-01-06",
    "descripcion": "Esquema de datos para Programación de Exámenes de Retiro - Capa Gold"
  },
  "nombre_reporte": "examenes_retiro_gold",
  "schema": {
    "NOMBRE": {
      "type": "string",
      "nullable": false,
      "description": "Nombre completo del empleado cesado"
    },
    "DNI": {
      "type": "string",
      "nullable": false,
      "description": "Documento Nacional de Identidad"
    },
    "FECHA DE CESE": {
      "type": "date",
      "nullable": false,
      "description": "Fecha de cese del empleado"
    },
    "CAUSA DE SALIDA": {
      "type": "string",
      "nullable": true,
      "description": "Motivo de cese del empleado"
    },
    "CARGO": {
      "type": "string",
      "nullable": true,
      "description": "Cargo que ocupaba el empleado"
    },
    "NOMBRE DE CC": {
      "type": "string",
      "nullable": true,
      "description": "Código del centro de costo asociado al empleado"
    },
    "AÑO": {
      "type": "integer",
      "nullable": false,
      "derivado_de": "FECHA DE CESE",
      "description": "Año extraído de FECHA DE CESE"
    },
    "MES": {
      "type": "integer",
      "nullable": false,
      "min_value": 1,
      "max_value": 12,
      "derivado_de": "FECHA DE CESE",
      "description": "Mes extraído de FECHA DE CESE"
    },
    "NOMBRE_MES": {
      "type": "string",
      "nullable": true,
      "derivado_de": "FECHA DE CESE",
      "description": "Nombre del mes en español (Enero, Febrero, etc.)"
    }
  },
  "columnas_derivadas": {
    "AÑO": {
      "fuente": "FECHA DE CESE",
      "operacion": "dt.year()",
      "tipo_resultado": "integer"
    },
    "MES": {
      "fuente": "FECHA DE CESE",
      "operacion": "dt.month()",
      "tipo_resultado": "integer"
    },
    "NOMBRE_MES": {
      "fuente": "FECHA DE CESE",
      "operacion": "dt.month() + mapeo a nombres en español",
      "tipo_resultado": "string",
      "mapeo": {
        "1": "Enero",
        "2": "Febrero",
        "3": "Marzo",
        "4": "Abril",
        "5": "Mayo",
        "6": "Junio",
        "7": "Julio",
        "8": "Agosto",
        "9": "Septiembre",
        "10": "Octubre",
        "11": "Noviembre",
        "12": "Diciembre"
      }
    }
  },
  "filtros": [
    {
      "columna": "CARGO",
      "condicion": "NOT_EQUAL",
      "valor": "STUDENT INTERNAL",
      "descripcion": "Excluir practicantes del análisis"
    }
  ],
  "constraints": {
    "primary_key": ["DNI", "FECHA DE CESE"],
    "unique_keys": [],
    "business_rules": [
      "CARGO diferente de 'STUDENT INTERNAL'",
      "NOMBRE_MES se genera automáticamente desde FECHA DE CESE",
      "AÑO y MES son columnas calculadas, no se ingresan manualmente"
    ]
  },
  "transformations": {
    "column_naming": "original",
    "date_format": "YYYY-MM-DD",
    "string_trimming": true,
    "null_handling": "explicit"
  },
  "notas": {
    "enriquecimiento": "Los datos pueden ser enriquecidos con información de Centros de Costo mediante step3_join.py",
    "columnas_adicionales_join": [
      "codigo_cc",
      "nombre_cc_completo",
      "categoria_cc",
      "gerencia",
      "status_match"
    ]
  }
}